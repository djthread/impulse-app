<template>
  <require from="./components/chat"></require>
  <require from="./components/eventsListing"></require>
  <require from="./components/episodesListing"></require>
  <require from="./components/photoListing"></require>
  <section class="hero">
    <div class="hero-overlay">
      <div class="hero-info">
        Impulse Detroit is a ring of recurring DJ events around the city. Tune in live for the video, or subscribe and listen to the podcasts.
      </div>
    </div>
  </section>

  <section class="main dropshadow">
    <div class="content">
      <div class="section-left">

        <div class="infoline">${state.infoline}</div>

        <a class="infobutton" route-href="route: live">
          <p>
            <i class="fa fa-video-camera"></i> &nbsp;
            The <strong>live video</strong> is right here!
          </p>
        </a>

        <div class="infobox">
          <p>
            <i class="fa fa-music"></i> &nbsp;
            You can also tune in, audio only, with our <a href="/id.pls">MP3 stream</a>!
          </p>
          <p>
            <i class="fa fa-question-circle"></i> &nbsp;
            If you're having trouble, check out our 
            <a route-href="route: streaming">streaming tips</a> page.
          </p>
        </div>
      </div>

      <div class="section-right">
        <chat></chat>
      </div>

      <p class="clearer">&nbsp;</p>

    </div>

    <div class="photobar">
      <photo-listing photos.bind="state.photos"></photo-listing>
    </div>

    <div class="content homebox">

      <div class="section-left">
        <h3>Upcoming Events</h3>
        <div class="events-listing small">
          <events-listing
            events.bind="state.latest_events"
            limit="3" showbtns="true">
          </events-listing>
          <p class="more" if.bind="state.latest_events.length > 3">
            <a route-href="route: schedule">More Events</a>&nbsp;
            <i class="fa fa-long-arrow-right"></i>
          </p>
        </div>
      </div>

      <div class="section-right">
        <h3>Recent Episodes</h3>
        <div class="episodes-listing small">
          <episodes-listing episodes.bind="state.latest_episodes"
            limit="3" showbtns="true">
          </episodes-listing>
          <p class="more" if.bind="state.latest_episodes.length > 3">
            <a route-href="route: podcast">More Episodes</a>&nbsp;
            <i class="fa fa-long-arrow-right"></i>
          </p>
        </div>
      </div>

      <p class="clearer">&nbsp;</p>

    </div>
  </div>

  </section>

</template>
